{% extends 'base.html' %}

{% block head_title %}All Hospital Feedback{% endblock %}

{% block content %}
<div class="catalog-shell">
    <h1 class="catalog-title">Hospital Feedback</h1>
    
    <div style="margin-bottom: 20px;">
        <a href="{{ url_for('public_feedback') }}" class="btn-primary">
            + Share Your Feedback
        </a>
    </div>
    
    {% if hospitals %}
        <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 20px; margin-top: 30px;">
            {% for hospital in hospitals %}
            <div style="border: 1px solid #dee2e6; padding: 20px; border-radius: 8px; background: white;">
                <h3 style="margin-top: 0; color: #007bff;">
                    {{ hospital.hospital_name }}
                </h3>
                
                <div style="margin: 15px 0;">
                    <div style="font-size: 28px; font-weight: bold;">
                        {{ "%.1f"|format(hospital.avg_rating or 0) }} â˜…
                    </div>
                    <div style="color: #6c757d; font-size: 14px;">
                        {{ hospital.review_count }} reviews
                    </div>
                </div>
                
                <a href="{{ url_for('view_feedback', hospital_name=hospital.hospital_name) }}" 
                   class="btn-primary" style="display: inline-block; margin-top: 10px;">
                    View Feedback
                </a>
            </div>
            {% endfor %}
        </div>
    {% else %}
        <p style="text-align: center; color: #6c757d; padding: 40px;">
            No feedback available yet.
        </p>
    {% endif %}
</div>
{% endblock %}
